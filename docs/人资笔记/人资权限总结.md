# 权限管理

1. 如何判断权限 ==> token处理机制

> Jwt ==> cookie+session

> token从什么地方获取？
>
> 1、登录的时候，提交了用户和密码，服务端校验用户名密码 ==> 登录成功(token)
>
> 2、token存储起来 ==> 
>
> ​	1、本地存储(localstorage) ==> 目的 ==> 持久化
>
> ​    2、vuex内部 ==> 项目里面使用token ==> vuex内部的token



2. 权限拦截如何去做的？

   > 路由守卫 ==> 
   >
   > beforeEach: 跳转前 (to, from, next) 
   >
   > ​	跳转有权限的界面的时候，判读是否有token，
   >
   > ​	如果有token，调用next()放行，
   >
   > ​	没有token ==> next('/login')
   >
   > ​	没有权限的时候，白名单(404 登录界面 ==> 不需要权限的界面)界面也会放行
   >
   > afterEach：跳转之后
   >
   > ​	进度条完成

3. 按钮操作权限

   1. 查看权限 ==> menus ==> addrouter
   2. 操作按钮权限 后台管理界面去处理操作权限 ==> 自定义标识 ==> 写入到个人信息 ==> 获取个人信息拿到这个权限 ==> 隐藏/disalbed
   3. 权限按钮操作比较通用判断逻辑 ==> mixins ==> 只要这个逻辑是通用的，mixins都是一种解决方法

4. 用户个人信息什么时候获取的？

   1. 公司 ==> oa系统 ==> 员工管理 ==> 权限分配

5. 动态路由

   1. 我们的项目里面有静态路由和动态路由
      1. 静态路由 ==> 所有的用户都可以访问的界面(首页，login, 404)
      2. 动态路由 ==> 根据用户的访问权限来决定 ==> 获取到用户可以访问到的页面信息（用户个人信息获取） ==> 动态路由里面去找路由对象(基于用户可访问的路由信息) ==> 合并一个动态路由数组 ==> router.addRouter(router)
      3. Next() ==> 空白 ==> vue-router github issus ==> next(to.path) ==> 重新跳转一次

   

6. > react如何进行权限判断



===========================================>



> 生命周期
>
> 请求哪个生命周期发起

